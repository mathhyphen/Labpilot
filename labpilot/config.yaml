# LabPilot Configuration
# =========================================================================================
# 基础配置
# =========================================================================================
# 服务器名称（可选）
# 如果不配置，将自动获取系统主机名
# server_name: "My-GPU-Server-01"

# =========================================================================================
# 通知配置
# =========================================================================================
notification:
  # 启用的通知方式列表，可选: dingtalk, ntfy
  # 如果列表包含多个，会同时发送到所有渠道
  active: 
    - dingtalk
    # - ntfy
  
  # 钉钉机器人配置
  dingtalk:
    # --------------------------------------------------------------------------------------
    # 钉钉群聊机器人配置
    # 配置完成后，实验通知将通过钉钉机器人发送到指定群聊
    # --------------------------------------------------------------------------------------
    # 钉钉机器人Webhook URL：
    # 1. 打开钉钉群聊 → 群设置 → 智能群助手 → 添加机器人
    # 2. 选择「自定义」机器人 → 填写机器人名称 → 选择安全设置
    # 3. 复制生成的Webhook URL到下方配置
    webhook_url: ""  # 请替换为实际Webhook URL
    
    # 请求超时时间（秒）
    timeout: 5
    
    # 钉钉机器人签名密钥（可选）
    # 如果在创建机器人时选择了「加签」安全设置，需填写此密钥
    secret: ""  # 可选，加签密钥
    
  # ntfy 通知配置
  ntfy:
    # --------------------------------------------------------------------------------------
    # ntfy 通知配置
    # 支持发送到 iOS/Android 手机，无需安装 App 也可以通过 Web 接收
    # --------------------------------------------------------------------------------------
    # ntfy 服务器地址 (默认为官方服务器)
    server: "https://ntfy.sh"
    
    # 订阅主题 (Topic)
    # 请设置一个唯一的、不容易被猜到的主题名称
    topic: ""  # 请替换为您的主题名称，例如: my-secret-lab-experiments-123
    
    # 认证配置 (可选)
    # 如果您使用的是自建服务器或官方服务器的高级功能，可能需要认证
    username: ""
    password: ""
    
    # 请求超时时间（秒）
    timeout: 5

# =========================================================================================
# 数据库配置
# =========================================================================================
database:
  # 数据库文件路径，支持绝对路径和相对路径
  # 注意：如果需要多服务器共享数据库，请配置为网络共享路径或使用集中式数据库
  path: "./labpilot.db"

# =========================================================================================
# 日志配置
# =========================================================================================
logging:
  level: "INFO"
  # 通知中包含的日志行数
  max_log_lines: 20

# =========================================================================================
# Git配置
# =========================================================================================
git:
  # 是否自动记录Git提交信息
  auto_snapshot: true
  # 是否要求Git工作区干净才能运行实验
  require_clean: false

# =========================================================================================
# 超时配置
# =========================================================================================
timeout:
  # 实验默认超时时间（秒）
  # 0 表示无超时限制，适合长时间运行的实验
  default: 0  # 建议：长时间实验设置为0，短时间实验设置为具体秒数

# =========================================================================================
# AI 配置 (可选)
# =========================================================================================
ai:
  # AI 提供商 API Key (支持 OpenAI 格式)
  api_key: ""
  # API 基础 URL (默认为智谱 AI)
  base_url: "https://open.bigmodel.cn/api/coding/paas/v4"
  # 模型名称
  model: "glm-4.7"

# =========================================================================================
# 配置示例
# =========================================================================================
# 示例1：同时启用钉钉和ntfy
# notification:
#   active:
#     - dingtalk
#     - ntfy
#   dingtalk:
#     webhook_url: "..."
#   ntfy:
#     topic: "my-experiments"
